{"version":3,"file":"reindex.action-DG1dTn-f.js","sources":["../../Our.Umbraco.FullTextSearch.Client/src/modals/reindexnode.modaltoken.ts","../../Our.Umbraco.FullTextSearch.Client/src/actions/entity/reindex.action.ts"],"sourcesContent":["import { UmbEntityUnique } from \"@umbraco-cms/backoffice/entity\";\r\nimport { UmbModalToken } from \"@umbraco-cms/backoffice/modal\";\r\n\r\nexport type ReindexNodeModalData = {\r\n    unique: UmbEntityUnique;\r\n}\r\n\r\nexport const REINDEX_NODE_MODAL_TOKEN = new UmbModalToken<ReindexNodeModalData>('our.umbraco.fulltextsearch.modals.reindexnode', {\r\n    modal: {\r\n        type: 'dialog',\r\n        size: 'small'\r\n    }\r\n});","import { UmbControllerHostElement } from \"@umbraco-cms/backoffice/controller-api\";\r\nimport { UmbEntityActionArgs, UmbEntityActionBase } from \"@umbraco-cms/backoffice/entity-action\";\r\nimport { UMB_MODAL_MANAGER_CONTEXT } from '@umbraco-cms/backoffice/modal';\r\nimport { REINDEX_NODE_MODAL_TOKEN } from \"../../modals/reindexnode.modaltoken\";\r\n\r\nexport class ReindexNodeAction extends UmbEntityActionBase<never> {\r\n    #modalManagerContext?: typeof UMB_MODAL_MANAGER_CONTEXT.TYPE;\r\n\r\n\r\n    constructor(host: UmbControllerHostElement, args: UmbEntityActionArgs<never>) {\r\n        super(host, args)\r\n\r\n        this.consumeContext(UMB_MODAL_MANAGER_CONTEXT, (instance) => {\r\n            this.#modalManagerContext = instance;\r\n        });\r\n    }\r\n\r\n\r\n    async execute() {\r\n        \r\n        const modal = this.#modalManagerContext?.open(this, REINDEX_NODE_MODAL_TOKEN, {\r\n            data: {\r\n                unique: this.args.unique\r\n            }\r\n        });\r\n\r\n        await modal?.onSubmit();\r\n    }\r\n\r\n};\r\n\r\nexport default ReindexNodeAction;"],"names":["REINDEX_NODE_MODAL_TOKEN","UmbModalToken","ReindexNodeAction","UmbEntityActionBase","host","args","__privateAdd","_modalManagerContext","UMB_MODAL_MANAGER_CONTEXT","instance","__privateSet","modal","_a","__privateGet"],"mappings":";;;;;;;AAOa,MAAAA,IAA2B,IAAIC,EAAoC,iDAAiD;AAAA,EAC7H,OAAO;AAAA,IACH,MAAM;AAAA,IACN,MAAM;AAAA,EACV;AACJ,CAAC;;ACPM,MAAMC,UAA0BC,EAA2B;AAAA,EAI9D,YAAYC,GAAgCC,GAAkC;AAC1E,UAAMD,GAAMC,CAAI;AAJpB,IAAAC,EAAA,MAAAC;AAMS,SAAA,eAAeC,GAA2B,CAACC,MAAa;AACzD,MAAAC,EAAA,MAAKH,GAAuBE;AAAA,IAAA,CAC/B;AAAA,EACL;AAAA,EAGA,MAAM,UAAU;;AAEZ,UAAME,KAAQC,IAAAC,EAAA,MAAKN,OAAL,gBAAAK,EAA2B,KAAK,MAAMZ,GAA0B;AAAA,MAC1E,MAAM;AAAA,QACF,QAAQ,KAAK,KAAK;AAAA,MACtB;AAAA,IAAA;AAGJ,WAAMW,KAAA,gBAAAA,EAAO;AAAA,EACjB;AAEJ;AAvBIJ,IAAA;"}